<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>결제 페이지</title>
    <link th:href="@{/css/page/pay.css}" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
<th:block th:replace="~{/layout/common_page:: setContents(~{this:: #main-container} )}">
    <main id="main-container">
        <section class="pay-header">
            <section>
                <h1 id="pay-page-title" th:text="${'결제'}"></h1>
            </section>
            <section>
                <span>영화, 극장, 시간 선택</span>
                <span>&gt;&gt;</span>
                <span>좌석 선택</span>
                <span>&gt;&gt;</span>
                <span class="current">결제</span>
                <span>&gt;&gt;</span>
                <span>예매 완료</span>
            </section>
        </section>
        <section class="pay-container">
            <form>
                <input id="movieId" type="hidden" name="movieId" th:value="${movieDTO.getMovieId()}">
                <input id="title" type="hidden" name="title" th:value="${movieDTO.getTitle()}">
                <input id="director" type="hidden" name="director" th:value="${movieDTO.getDirector()}">
                <input id="actor" type="hidden" name="actor" th:value="${movieDTO.getActor()}">
                <input id="runtime" type="hidden" name="runtime" th:value="${movieDTO.getRuntime()}">
                <input id="genre" type="hidden" name="genre" th:value="${movieDTO.getGenre()}">
                <input id="story" type="hidden" name="story" th:value="${movieDTO.getStory()}">
                <input id="poster" type="hidden" name="poster" th:value="${movieDTO.getPoster()}">

                <input id="timetableId" type="hidden" name="timetableId" th:value="${timetableDTO.getTimetableId()}">

                <input id="discountRatio" type="hidden" name="discountRatio" th:value="${discountDTO.getDiscountRatio()}">
                <input id="discountType" type="hidden" name="discountType" th:value="${discountDTO.getDiscountType()}">

                <input id="youngNum" type="hidden" name="youngNum" th:value="${reservationDTO.getYoungNum()}">
                <input id="adultNum" type="hidden" name="adultNum" th:value="${reservationDTO.getAdultNum()}">
                <input id="elderNum" type="hidden" name="elderNum" th:value="${reservationDTO.getElderNum()}">
                <input id="totalNum" type="hidden" name="totalNum" th:value="${reservationDTO.getTotalNum()}">
                <input id="price" type="hidden" name="price" th:value="${reservationDTO.getPrice()}">

                <input id="theater" type="hidden" name="theater" th:value="${theater}">

                <input id="seats" type="hidden" name="seats" th:value="${seats}">
            </form>
            <section class="inner-container">
                <section class="inner-left-container">
                    <img th:src="|/movie/display?fileName=${movieDTO.getPoster()}|" alt="영화 포스터">
                </section>
                <section class="inner-right-container">
                    <h2>[[${movieDTO.getTitle()}]]</h2>
                    <section class="reservation-info debug">
                        <h2>[[${theater}]]</h2>
                        <div>상영일: [[${timetableDTO.getScheduleString()}]]</div>
                        <div>상영 시간: [[${movieDTO.getRuntime()}]]</div>
                        <div>좌석: [[${seats}]]</div>
                    </section>
                    <section class="people-info debug">
                        <h2>관람 인원</h2>
                        <div>성인: [[${reservationDTO.getAdultNum()}]]</div>
                        <div>청소년: [[${reservationDTO.getYoungNum()}]]</div>
                        <div>우대: [[${reservationDTO.getElderNum()}]]</div>
                    </section>
                    <section class="discount-info debug">
                        <h2>할인</h2>
                        <div>[[${discountDTO.getDiscountType()}]]</div>
                    </section>
                    <section class="price-info debug">
                        <h2>총 결제 금액</h2>
                        <div>[[${reservationDTO.getPrice()}]] 원</div>
                    </section>
                </section>
            </section>
        </section>
        <section class="pay-footer">
            <a href="#" class="prev-button">&lt;&lt; PREV</a>
            <a href="#" class="next-button">&gt;&gt; NEXT</a>
        </section>
    </main>
</th:block>
<script th:src="@{/script/page/pay.js}"></script>
</body>
</html>